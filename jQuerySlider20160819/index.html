<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>jQuery+HTML5 进度条</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="css/main.css">
<link rel="stylesheet" href="css/rangeslider.css">

</head>

<body>

<section id="examples">
    <div>
        <br>
        <input type="range" min="-20" max="0" data-rangeslider>
        <output></output>
    </div>

    <hr>

    <div>
        <output></output>
        <input type="range" min="0" max="100" step="10" value="20" data-rangeslider>       
    </div>

    <hr>

    <div id="js-example-change-value">
        <br>
        <input type="range" min="0" max="100" value="50" data-rangeslider>
        <output></output>
        <input type="number" value="10"> <button class="button button--small">修改value值</button>
    </div>

    <hr>

    <div id="js-example-change-attributes">
        <br>
        <input type="range" min="10" max="100" step="5" data-rangeslider>
        进度条值<output></output>
        <label><input type="number" name="min" value="10"> <code>min</code></label><br>
        <label><input type="number" name="max" value="100"> <code>max</code></label><br>
        <label><input type="number" name="step" value="5"> <code>step</code></label>
        <br>
        <br>
        <button class="button button--small">确定设置</button>
        <input type="number" value="10" class="ssm1"> <button class="button button--small sm1">修改进度条值</button>
    </div>

    <hr>

    <div id="js-example-destroy">
        <br>
        <input type="range" min="10" max="1000" step="10" value="500" data-rangeslider>
        <output></output>
        <button class="button button--small" data-behaviour="destroy">取消样式</button>
        <button class="button button--small" data-behaviour="initialize">恢复样式</button>
    </div>

    <hr>

</section>

<script src="http://www.jq22.com/jquery/1.9.1/jquery.min.js"></script>
<script src="js/rangeslider.min.js"></script>
<script>
    $(function() {
    	
        var $document   = $(document);
        var selector    = '[data-rangeslider]';
        var $inputRange = $(selector);

        // Example functionality to demonstrate a value feedback
        // and change the output's value.
        function valueOutput(element) {
            var value = element.value;
            var output = element.parentNode.getElementsByTagName('output')[0];
            output.innerHTML = value;
            console.log(value)
        }

        // Initial value output
        for (var i = $inputRange.length - 1; i >= 0; i--) {
            valueOutput($inputRange[i]);
        };

        // Update value output
        $document.on('input', selector, function(e) {
            valueOutput(e.target);
        });

        // Initialize the elements
        $inputRange.rangeslider({
            polyfill: false
        });

        // Example functionality to demonstrate programmatic value changes
        $document.on('click', '#js-example-change-value button', function(e) {
            var $inputRange = $('input[type="range"]', e.target.parentNode);
            var value = $('input[type="number"]', e.target.parentNode)[0].value;

            $inputRange
                .val(value)
                .change();
        });
        $document.on('click', '.sm1', function(e) {          
            //var $inputRange = $('input[type="range"]', e.target.parentNode);
            var value = $(".ssm1").val();
            $('input[type="range"]', "#js-example-change-attributes").val(value).change();
        });




        // Example functionality to demonstrate programmatic attribute changes
        $document.on('click', '#js-example-change-attributes button', function(e) {
            var $inputRange = $('input[type="range"]', e.target.parentNode);
            var attributes = {
                min: $('input[name="min"]', e.target.parentNode)[0].value,
                max: $('input[name="max"]', e.target.parentNode)[0].value,
                step: $('input[name="step"]', e.target.parentNode)[0].value
            };

            $inputRange
                .attr(attributes)
                .rangeslider('update', true);
        });



        // Example functionality to demonstrate destroy functionality
        $document
            .on('click', '#js-example-destroy button[data-behaviour="destroy"]', function(e) {
                $('input[type="range"]', e.target.parentNode).rangeslider('destroy');
            })
            .on('click', '#js-example-destroy button[data-behaviour="initialize"]', function(e) {
                console.log(e.target.parentNode);
                $('input[type="range"]', e.target.parentNode).rangeslider({ polyfill: false });
            });
            
            
            
    });

</script>



</body>
</html>